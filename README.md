# A1 — Monte Carlo (пересечение трёх окружностей)

Проект решает две части:
1) вычисление площади общей области трёх окружностей (вариант A1i для Codeforces),  
2) экспериментальное получение приближённой площади методом Монте-Карло и построение графиков сходимости.

---

## Метод Монте-Карло

1. Строится единственный рабочий прямоугольник —  
   **минимальный охватывающий прямоугольник (bounding box)** всех трёх окружностей.
2. Внутри него равномерно генерируются `N` случайных точек.
3. Точка считается успешной, если одновременно лежит внутри всех окружностей:
```

(x - a)^2 + (y - b)^2 <= r^2

```
4. Приближённая площадь рассчитывается по формуле:
```

S_hat = (M / N) * S_rect

````
где  
`M` — число попаданий,  
`S_rect = (maxx - minx) * (maxy - miny)` — площадь bounding box.

В коде формула реализована как:

```cpp
return (w * h) * (inside / N);
````

---

## Состав репозитория

* **a1i.cpp** — решение варианта A1i (Codeforces).
  *ID посылки: 349016588*
* **a1.cpp** — экспериментальная версия: выполняет серии прогонов, сохраняет данные в `results.csv`.
* **results.csv** — результаты приближённой площади для разных `N`.
* **plots/plot.py** — построение графиков:

  * `area_vs_N.png` — зависимость оценки `S_hat` от `N`;
  * `error_vs_N.png` — абсолютная ошибка относительно точного значения.

---

## Запуск

```bash
g++ -std=gnu++17 -O2 a1.cpp -o a1
./a1      # создаёт results.csv

cd plots
python plot.py
```

---

## Итоги

* Метод Монте-Карло сходится к точной площади при увеличении числа точек `N`.
* Сходимость визуализирована на графиках: оценка стабилизируется возле известного точного значения.
* Разброс уменьшается монотонно, что подтверждает корректность реализации.

